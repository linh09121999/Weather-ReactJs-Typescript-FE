import{j as e,u as ae,a as le,r as H,M as ie,b as ne,L as ce,c as q,y as xe}from"./index-CBEnY14c.js";import{D as z,C as O,A as R,p as Y,a as K}from"./index-BCx8KjC3.js";O.register(R,Y,K);const de=({value:c,min:g,max:k,donvi:C,backgroundColor:j})=>{const b=c??g,t=(b-g)/(k-g),a=Math.min(Math.max(t,0),1)*270,p=270-a,f={datasets:[{data:[a-.5,1,p-.5],backgroundColor:j,borderWidth:[0,4,0],borderColor:j,cutout:"85%",rotation:-135,circumference:270}]};return e.jsxs("div",{className:"flex flex-col items-center relative w-36 h-36",children:[e.jsx(z,{data:f,options:{plugins:{legend:{display:!1}}}}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:b}),e.jsx("p",{className:"text-xl text-white/70",children:C})]}),e.jsx("div",{className:"absolute bottom-[-18px] left-6 text-lg font-medium",children:"Thấp"}),e.jsx("div",{className:"absolute bottom-[-18px] right-6 text-lg font-medium",children:"Cao"})]})};O.register(R,Y,K);const oe=({value:c,donvi:g,direction:k=0})=>{const C={labels:[],datasets:[{data:[1],backgroundColor:["rgba(200,200,200,0.15)"],borderWidth:0,cutout:"85%"}]},j={responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}},b={id:"arrowPlugin",afterDraw:t=>{const{ctx:a,chartArea:p}=t,f=(p.left+p.right)/2,M=(p.top+p.bottom)/2,T=Math.min(p.width,p.height)/2,d=((k??0)-180)*Math.PI/180,D=T*.5,S=f+D*Math.cos(d),x=M+D*Math.sin(d),i=T*.82,n=f+i*Math.cos(d),N=M+i*Math.sin(d);a.save(),a.strokeStyle="white",a.fillStyle="white",a.lineWidth=3,a.beginPath(),a.moveTo(S,x),a.lineTo(n,N),a.stroke();const y=12,w=Math.PI/8,v=n-y*Math.cos(d-w),_=N-y*Math.sin(d-w),F=n-y*Math.cos(d+w),h=N-y*Math.sin(d+w);a.beginPath(),a.moveTo(n,N),a.lineTo(v,_),a.lineTo(F,h),a.closePath(),a.fill(),a.restore()}};return e.jsxs("div",{className:"flex flex-col items-center relative w-48",children:[e.jsx(z,{data:C,options:j,plugins:[b]}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("p",{className:"text-3xl font-bold text-white",children:c}),e.jsx("p",{className:"text-xl text-white/70",children:g})]}),e.jsx("p",{className:"absolute -top-2 text-white text-lg",children:"B"}),e.jsx("p",{className:"absolute right-0 top-1/2 -translate-y-1/2 text-white text-lg",children:"Đ"}),e.jsx("p",{className:"absolute -bottom-2 text-white text-lg",children:"N"}),e.jsx("p",{className:"absolute left-0 top-1/2 -translate-y-1/2 text-white text-lg",children:"T"})]})},me=()=>{const c=ae(),g={sx:{borderRadius:"10px",boxShadow:"0px 4px 12px rgba(0,0,0,0.15)",maxWidth:"calc(100%)",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",zIndex:100}},k={sx:{paddingY:.5}},C={justifyContent:"start",paddingY:"10px",paddingLeft:"20px",color:"var(--color-white)",zIndex:100,"&:hover":{backgroundColor:"rgba(255, 255, 255) !important",color:"#2B32B2 !important",fontWeight:600}},j=s=>s.replace(/^Thành phố\s*/i,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D").replace(/\s+/g," ").trim(),{keyApi:b,resForecast:t,setResForecast:a,selectLang:p,selectAqi:f,selectAlerts:M,days:T,selectDays:d,setSelectDays:D,selectQ:S,selectTypeCF:x,icons:i,setSelectDetailDay:n,is920px:N,isMobile:y,selectSrecip:w,selectWind:v,selectPressure:_,selectVis:F,setIsSelectDetail:h,currentHour:P,windDirectionVN:X,getUVlevel:Q,getRainLever:B,getVisibilityLevel:W}=le(),J=async(s,l,o,r,u)=>{try{const m=await q.get("https://weather-be-hhcd.onrender.com/api/forecast",{params:{key:b,q:s,days:l,aqi:o,alerts:r,lang:u},headers:{"Content-Type":"application/json",Accept:"application/json"}});a(m.data)}catch(m){q.isAxiosError(m)?(console.error("Axios error:",m.message),xe.error(m.message)):console.error("Unexpected error:",m)}};H.useEffect(()=>{J(j(S),d,f,M,p)},[j(S),d]);const I=s=>{const l=new Date(s),o=new Date;return l.getFullYear()===o.getFullYear()&&l.getMonth()===o.getMonth()&&l.getDate()===o.getDate()?"Hôm nay":y===!0?["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][l.getDay()]:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"][l.getDay()]},[L,E]=H.useState(null),Z=!!L,ee=s=>{E(s.currentTarget)},G=()=>{E(null)},[U,V]=H.useState(!1),A=s=>{if(!s)return;const[l,o]=s.trim().split(" ");let[r,u]=l.split(":").map(Number);return o.toUpperCase()==="PM"&&r<12&&(r+=12),o.toUpperCase()==="AM"&&r===12&&(r=0),`${r.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`},te=s=>{const[l,o]=s.split(" ");let[r,u]=l.split(":").map(Number);return o==="PM"&&r!==12&&(r+=12),o==="AM"&&r===12&&(r=0),r*60+u},$=s=>te(s)/1440*100,se=s=>s!==void 0?s/11*100:void 0;return e.jsxs(e.Fragment,{children:[e.jsxs("main",{className:"min-h-[80vh] p-[20px]",children:[e.jsxs("section",{className:"max-w-[1350px] mx-auto grid  items-center gap-4  ",children:[e.jsxs("div",{className:"border-b-[2px] border-b-white/50 pb-[10px] grid gap-4",children:[e.jsxs("div",{className:"flex text-white items-center gap-5 max-md:justify-center",children:[e.jsxs("p",{className:"text-white text-4xl max-md:2xl font-bold relative after:absolute after:w-[4px] after:h-full after:bg-white after:right-[-10px]",children:[t?.location.name," "]}),e.jsx("p",{className:"text-xl",children:t?.location.country})]}),e.jsxs("div",{className:"flex md:justify-between max-md:justify-center pb-[20px]",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("p",{className:"text-white max-md:text-center",children:t?.current.last_updated}),e.jsxs("div",{className:"flex items-center gap-3 max-lg:grid",children:[e.jsx("p",{className:"text-white text-8xl font-bold max-md:text-6xl max-md:text-center",children:x===0?t?.current.temp_f+"°":t?.current.temp_c+"°"}),e.jsx("img",{className:"size-35 max-md:justify-self-center max-lg:justify-self-start max-md:hidden",alt:t?.current.condition.text,src:t?.current.condition.icon}),e.jsx("p",{className:"text-white text-center md:hidden",children:t?.current.condition.text})]}),e.jsxs("p",{className:"text-white/70 max-md:text-sm max-md:text-center",children:["Cảm giác như ",x===0?t?.current.feelslike_f+"°":t?.current.feelslike_c+"°"]})]}),e.jsx("div",{className:"self-end max-md:hidden",children:e.jsxs("div",{className:"grid justify-center gap-2",children:[e.jsx("p",{className:"text-white max-md:text-sm md:text-end",children:t?.current.condition.text}),e.jsxs("div",{className:"text-white grid gap-1 max-md:hidden",children:[e.jsxs("p",{className:"text-end",children:["Gió: ",t?.current.wind_kph," km/h"]}),e.jsxs("p",{className:"text-end",children:["Mây: ",t?.current.cloud," %"]}),e.jsxs("p",{className:"text-end",children:["Lượng mưa: ",t?.current.precip_mm," mm"]}),e.jsxs("p",{className:"text-end",children:["Độ ẩm: ",t?.current.humidity," %"]}),e.jsxs("p",{className:"text-end",children:["UV: ",t?.current.uv]}),e.jsxs("p",{className:"text-end",children:["Áp suất: ",t?.current.pressure_mb," mb"]})]})]})})]}),e.jsxs("button",{className:`${U===!0?"hidden":""} grid justify-center w-full text-white items-center css-icon`,onClick:()=>{V(!0)},children:["Chi tiết",e.jsx("span",{className:"justify-self-center",children:i.iconDown})]}),e.jsxs("div",{className:`${U===!0?"":"hidden"} transition-all duration-300 ease grid gap-5`,children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-5",children:[e.jsxs("button",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(0),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconThermometer}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Nhiệt Độ"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-50px)] text-start",children:"Nhiệt độ cảm nhận"}),e.jsx("p",{children:x===0?t?.current.feelslike_f+"°":t?.current.feelslike_c+"°"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-50px)] text-start",children:"Nhiệt độ gió lạnh"}),e.jsx("p",{children:x===0?t?.current.windchill_f+"°":t?.current.windchill_c+"°"})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-50px)] text-start",children:"Chỉ số nhiệt"}),e.jsx("p",{children:x===0?t?.current.heatindex_f+"°":t?.current.heatindex_c+"°"})]})]}),e.jsxs("button",{className:"rounded-[10px] mb-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(1),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconWind}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Gió"})]}),e.jsxs("div",{className:"flex gap-4 justify-between",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-78px)] text-start",children:"Gió"}),e.jsx("p",{children:v==="km/h"?t?.current.wind_kph+" km/h":t?.current.wind_mph+" mph"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-78px)] text-start",children:"Gió giật"}),e.jsx("p",{children:v==="km/h"?t?.current.gust_kph+" km/h":t?.current.gust_mph+" mph"})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-78px)] text-start",children:"Hướng gió"}),e.jsxs("p",{children:[t?.current.wind_degree,"° ",X(t?.current.wind_dir)??void 0]})]})]}),e.jsx(oe,{value:v==="km/h"?t?.current.wind_kph:t?.current.wind_mph,donvi:v==="km/h"?"km/h":"mph",direction:t?.current.wind_degree})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1 gap-5 ",children:[e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(2),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconSun}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl ",children:"Chỉ Số UV"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] text-start",children:t?.current.uv}),e.jsx("div",{className:"w-full my-[15px] h-[5px] rounded-xl [background:linear-gradient(to_right,#00ff00,#ffff00,#ff9900,#ff0000,#800080)] relative before:absolute before:w-[9px] before:h-[9px] before:rounded-full before:z-2 before:border-[2px] before:border-white before:top-[-2px] before:left-[var(--uv-pos)] ",style:{"--uv-pos":`${se(t?.current.uv)?.toFixed(0)}%`}}),e.jsxs("p",{className:"text-lg text-start",children:["Đang ở mức ",Q(t?.current.uv)??void 0," "]})]}),e.jsx("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",children:t?.current.is_day===1?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconSunset}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Mặt trời lặn"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600]",children:A(t?.forecast.forecastday[0].astro.sunset)}),e.jsxs("p",{className:"text-lg",children:["Mặt trời mọc: ",A(t?.forecast.forecastday[0].astro.sunrise)," "]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconSunrise}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Mặt trăng lặn"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600]",children:A(t?.forecast.forecastday[0].astro.moonset)}),e.jsxs("p",{className:"text-lg",children:["Mặt trăng mọc: ",A(t?.forecast.forecastday[0].astro.moonrise)," "]})]})}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(3),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconCloudRain}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl ",children:"Lượng Mưa"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] text-start",children:w==="mm"?t?.current.precip_mm+" mm":t?.current.precip_in+" in"}),e.jsxs("p",{className:"text-lg text-start",children:[w==="mm"?B(t?.current.precip_mm)??void 0:B(t?.current.precip_in)??void 0," "]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(5),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconEye}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Tầm Nhìn"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] text-start",children:F==="km"?t?.current.vis_km+" km":t?.current.vis_miles+" dặm"}),e.jsxs("p",{className:"text-lg text-start",children:["Tầm nhìn ",F==="km"?W(t?.current.vis_km)??void 0:W(t?.current.vis_miles)??void 0," "]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(6),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconTint}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Độ Ẩm"})]}),e.jsxs("p",{className:"text-3xl my-[15px] font-[600] text-start",children:[t?.current.humidity,"%"]}),e.jsxs("p",{className:"text-lg text-start",children:["Điểm sương là ",x===0?t?.current.dewpoint_f+"°":t?.current.dewpoint_c+"°"," ngay lúc này"]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(4),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconTachometer}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Áp Suất"})]}),e.jsx("div",{className:"pb-[25px] mt-[15px] justify-self-center",children:e.jsx(de,{value:_==="mb"?t?.current.pressure_mb:t?.current.pressure_in,min:_==="mb"?960:28.5,max:_==="mb"?1050:31,donvi:_==="mb"?" mb":" in",backgroundColor:["rgb(255,255,255,0.2)","white","rgb(255,255,255,0.2)"]})})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconSolarPanel}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl md:text-xl",children:"Bức Xạ Mặt Trời"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)]",children:"Bức xạ sóng ngắn"}),e.jsxs("p",{children:[t?.current.short_rad," W/m²"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)]",children:"Bức xạ khuếch tán"}),e.jsxs("p",{children:[t?.current.diff_rad," W/m²"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)]",children:"Bức xạ trực tiếp"}),e.jsxs("p",{children:[t?.current.dni," W/m²"]})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)]",children:"Bức xạ nghiêng"}),e.jsxs("p",{children:[t?.current.gti," W/m²"]})]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[20px] w-full",onClick:()=>{n(0),h(7),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm",children:i.iconSmog}),e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Chất Lượng Không Khí"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Carbon Monoxide (CO)"}),e.jsxs("p",{children:[t?.current.air_quality?.co," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Nitrogen Dioxide (NO₂)"}),e.jsxs("p",{children:[t?.current.air_quality?.no2," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Ozone (O₃)"}),e.jsxs("p",{children:[t?.current.air_quality?.o3," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Sulfur Dioxide (SO₂)"}),e.jsxs("p",{children:[t?.current.air_quality?.so2," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Bụi mịn PM2.5"}),e.jsxs("p",{children:[t?.current.air_quality?.pm2_5," μg/m³"]})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Bụi mịn PM10"}),e.jsxs("p",{children:[t?.current.air_quality?.pm10," μg/m³"]})]})]})]}),e.jsxs("button",{className:"grid justify-center w-full text-white items-center css-icon",onClick:()=>{V(!1)},children:[e.jsx("span",{className:"justify-self-center",children:i.iconUp}),"Đóng lại"]})]})]}),e.jsx("div",{className:"flex overflow-x-auto bg-white/5 text-white border-[1px] border-white/5 backdrop-blur-[10px] mt-[30px] shadow-lg rounded-[10px]",children:e.jsx("div",{className:"flex m-[25px] gap-3 scroll-x overflow-x-auto py-[10px] w-full",children:(()=>{const s=t?.forecast.forecastday[0].hour.filter(r=>new Date(r.time).getHours()>=P).map(r=>({...r,dayIndex:0}))??[],l=t?.forecast.forecastday[1].hour.map(r=>({...r,dayIndex:1}))??[];return[...s,...l].slice(0,24).map((r,u)=>{const m=new Date(r.time).getHours(),re=r.dayIndex===0&&m===P;return e.jsxs("button",{onClick:()=>{n(r.dayIndex),c("/chi-tiet-theo-ngay")},className:"grid justify-center px-[10px] gap-2",children:[e.jsx("p",{className:"text-white text-center w-max",children:re?"Hiện tại":`${m}:00`}),e.jsxs("div",{children:[e.jsx("img",{className:"h-[50px] w-[55px]",alt:r.condition.text,src:r.condition.icon}),r.will_it_rain==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300",children:[r.chance_of_rain,"%"]}),r.will_it_snow==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300",children:[r.chance_of_snow,"%"]})]}),e.jsx("p",{className:"text-white max-md:text-sm font-bold text-center self-end",children:x===0?r.temp_f+"°":r.temp_c+"°"})]},u)})})()})})]}),e.jsxs("section",{className:"max-w-[1350px] mt-[30px] mx-auto grid p-[25px] items-center gap-2 bg-white/5 border-[1px] border-solid border-white/10 backdrop-blur-[10px]  shadow-lg rounded-[10px]",children:[e.jsxs("div",{className:"flex items-center flex justify-between",children:[e.jsxs("p",{className:" text-white/70 flex gap-2 items-center pb-[10px] text-lg md:text-xl",children:["Dự báo ",d," ngày tới"]}),e.jsxs("div",{className:"justify-self-end flex gap-2 items-center pb-[10px]",children:[e.jsx("p",{className:"text-white/70 text-lg md:text-xl",children:"Chọn"}),e.jsx("button",{className:"text-white/70",onClick:ee,children:i.iconCalendar}),e.jsx(ie,{anchorEl:L,open:Z,onClose:G,PaperProps:g,MenuListProps:k,children:T.map((s,l)=>e.jsx(ne,{onClick:()=>{G(),D(s.id)},sx:C,children:s.desc},l))})]})]}),e.jsx("div",{className:"flex gap-3 w-full max-[920px]:grid",children:t?.forecast.forecastday.map((s,l)=>e.jsx(e.Fragment,{children:N?e.jsx("button",{className:"flex justify-between items-center border-t-[1px] border-t-white/20",onClick:()=>{n(l),c("/chi-tiet-theo-ngay")},children:e.jsx("table",{className:"w-full",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"w-[85px]",children:e.jsxs("p",{className:"text-white text-start text-lg w-[80px]",children:[" ",I(s.date)]})}),e.jsx("td",{className:"w-[50px]",children:e.jsxs("div",{className:"grid w-[40px]",children:[e.jsx("img",{className:"h-[40px] justify-self-center",alt:s.day.condition.text,src:s.day.condition.icon}),s.day.daily_will_it_rain==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300",children:[s.day.daily_chance_of_rain,"%"]}),s.day.daily_will_it_snow==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300",children:[s.day.daily_chance_of_snow,"%"]})]})}),e.jsx("td",{className:"w-[50px]",children:e.jsx("p",{className:"text-white/70 text-lg  w-[50px]",children:x===0?s.day.mintemp_f+"°":s.day.mintemp_c+"°"})}),e.jsx("td",{className:"p-[10px]",children:e.jsxs("div",{className:"min-w-[40px] flex h-[5px] rounded-full bg-white/30",children:[e.jsx("div",{style:{width:`${$(s.astro.sunrise)}%`}}),e.jsx("div",{className:"bg-orange-400 w-full"}),e.jsx("div",{style:{width:`${100-$(s.astro.sunset)}%`}})]})}),e.jsx("td",{className:"w-[50px]",children:e.jsx("p",{className:"text-white text-lg font-bold ",children:x===0?s.day.maxtemp_f+"°":s.day.maxtemp_c+"°"})})]})})})},l):e.jsxs("button",{className:"rounded-[10px] justify-center grid gap-2 bg-white/10 text-white border-[1px] border-white/10 shadow-lg p-[10px] w-full max-[920px]:hidden",onClick:()=>{n(l),c("/chi-tiet-theo-ngay")},children:[e.jsxs("p",{className:"text-white text-center",children:[" ",I(s.date)]}),e.jsx("img",{className:"h-[50px] w-[55px] justify-self-center",alt:s.day.condition.text,src:s.day.condition.icon}),e.jsxs("div",{children:[s.day.daily_will_it_rain==1&&e.jsxs("p",{className:"text-center text-cyan-300",children:[s.day.daily_chance_of_rain,"%"]}),s.day.daily_will_it_snow==1&&e.jsxs("p",{className:"text-center text-cyan-300",children:[s.day.daily_chance_of_snow,"%"]})]}),e.jsxs("div",{className:"flex gap-1 self-end",children:[e.jsx("p",{className:"text-white max-md:text-sm font-bold",children:x===0?s.day.maxtemp_f+"°":s.day.maxtemp_c+"°"}),"/",e.jsx("p",{className:"text-white/70 max-md:text-sm",children:x===0?s.day.mintemp_f+"°":s.day.mintemp_c+"°"})]})]},l)}))})]})]}),e.jsx(ce,{position:"top-right",autoClose:3e3})]})};export{me as default};
