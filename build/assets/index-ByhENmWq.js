import{j as e,u as ce,a as de,r as W,M as me,b as oe,L as pe,c as X,y as he}from"./index-D3kdwgEk.js";import{D as Q,C as J,A as Z,p as ee,a as te}from"./index-BZd3Mkt-.js";J.register(Z,ee,te);const ue=({value:c,min:b,max:y,donvi:D,backgroundColor:v})=>{const w=c??b,t=(w-b)/(y-b),r=Math.min(Math.max(t,0),1)*270,o=270-r,g={datasets:[{data:[r-.5,1,o-.5],backgroundColor:v,borderWidth:[0,4,0],borderColor:v,cutout:"85%",rotation:-135,circumference:270}]};return e.jsxs("div",{className:"flex flex-col mx-auto items-center relative w-36 h-36 max-sm:w-30 max-sm:h-30",children:[e.jsx(Q,{data:g,options:{plugins:{legend:{display:!1}}}}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/4  text-center",children:[e.jsx("p",{className:"sm:text-3xl font-bold max-sm:text-2xl",children:w}),e.jsx("p",{className:"sm:text-xl text-white/70 max-sm:text-sm",children:D})]}),e.jsx("div",{className:"absolute bottom-[-18px] max-sm:bottom-[-12px] left-6 max-sm:left-2 text-lg font-medium max-sm:text-sm",children:"Thấp"}),e.jsx("div",{className:"absolute bottom-[-18px] max-sm:bottom-[-12px] right-6 max-sm:right-2 text-lg font-medium max-sm:text-sm",children:"Cao"})]})};J.register(Z,ee,te);const ge=({value:c,donvi:b,direction:y})=>{const D={labels:[],datasets:[{data:[1],backgroundColor:["rgba(200,200,200,0.15)"],borderWidth:0,cutout:"85%"}]},v={responsive:!0,layout:{padding:{top:2}},plugins:{legend:{display:!1},tooltip:{enabled:!1}}},w={id:"arrowPlugin",afterDraw:t=>{const{ctx:r,chartArea:o}=t,g=(o.left+o.right)/2,j=(o.top+o.bottom)/2,_=Math.min(o.width,o.height)/2,p=((y??0)+90)*Math.PI/180,A=_*.5,S=g+A*Math.cos(p),d=j+A*Math.sin(p),x=_*.82,n=g+x*Math.cos(p),k=j+x*Math.sin(p);r.save(),r.strokeStyle="white",r.fillStyle="white",r.lineWidth=3,r.beginPath(),r.moveTo(S,d),r.lineTo(n,k),r.stroke();const C=12,f=Math.PI/8,M=n-C*Math.cos(p-f),T=k-C*Math.sin(p-f),F=n-C*Math.cos(p+f),u=k-C*Math.sin(p+f);r.beginPath(),r.moveTo(n,k),r.lineTo(M,T),r.lineTo(F,u),r.closePath(),r.fill();const H=[{label:"B",angle:-90},{label:"Đ",angle:0},{label:"N",angle:90},{label:"T",angle:180}];r.save(),r.fillStyle="white",r.font="16px sans-serif",r.textAlign="center",r.textBaseline="middle",H.forEach(({label:$,angle:E})=>{const P=E*Math.PI/180,B=g+_*.9*Math.cos(P),L=j+_*.9*Math.sin(P);r.fillText($,B,L)}),r.restore()}};return e.jsxs("div",{className:"flex flex-col items-center relative w-50",children:[e.jsx(Q,{data:D,options:v,plugins:[w]},y),e.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("p",{className:"text-xl font-bold text-white",children:c}),e.jsx("p",{className:"text-lg text-white/70 max-sm:text-sm",children:b})]})]})},je=()=>{const c=ce(),b={sx:{borderRadius:"10px",boxShadow:"0px 4px 12px rgba(0,0,0,0.15)",maxWidth:"calc(100%)",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",zIndex:100}},y={sx:{paddingY:.5}},D={justifyContent:"start",paddingY:"10px",paddingLeft:"20px",color:"var(--color-white)",zIndex:100,"&:hover":{backgroundColor:"rgba(255, 255, 255) !important",color:"#2B32B2 !important",fontWeight:600}},{keyApi:v,formatCityName:w,resForecast:t,setResForecast:r,selectLang:o,selectAqi:g,selectAlerts:j,days:_,selectDays:p,setSelectDays:A,selectQ:S,selectTypeCF:d,icons:x,setSelectDetailDay:n,is920px:k,isMobile:C,selectSrecip:f,selectWind:M,selectPressure:T,selectVis:F,setIsSelectDetail:u,currentHour:H,windDirectionVN:$,getUVlevel:E,getRainLever:P,getVisibilityLevel:B,setForecast:L}=de(),G=async(s,l,m,a,h)=>{try{const i=await X.get("https://weather-be-hhcd.onrender.com/api/forecast",{params:{key:v,q:s,days:l,aqi:m,alerts:a,lang:h},headers:{"Content-Type":"application/json",Accept:"application/json"}});r(i.data),L(i.data)}catch(i){X.isAxiosError(i)?(console.error("Axios error:",i.message),he.error(i.message)):console.error("Unexpected error:",i)}};W.useEffect(()=>{G(w(S),p,g,j,o)},[]),W.useEffect(()=>{const s=setInterval(()=>{G(w(S),p,g,j,o)},6e4);return()=>clearInterval(s)},[]);const se=s=>{O(),A(s),G(w(S),s,g,j,o)},V=s=>{const l=new Date(s),m=new Date;return l.getFullYear()===m.getFullYear()&&l.getMonth()===m.getMonth()&&l.getDate()===m.getDate()?"Hôm nay":C===!0?["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"][l.getDay()]:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"][l.getDay()]},[q,U]=W.useState(null),ae=!!q,re=s=>{U(s.currentTarget)},O=()=>{U(null)},[z,R]=W.useState(!1),I=s=>{if(!s)return;if(s.trim().toLowerCase()==="no moonset")return"No moonset";const l=s.trim().split(" ");if(l.length!==2)return;const[m,a]=l,[h,i]=m.split(":");if(!h||!a)return;let N=Number(h),ie=i?Number(i):0;const K=a.toUpperCase();return K==="PM"&&N<12&&(N+=12),K==="AM"&&N===12&&(N=0),`${N.toString().padStart(2,"0")}:${ie.toString().padStart(2,"0")}`},le=s=>{if(!s)return;const[l,m]=s.split(" "),[a,h,i]=l.split("-");return`${m} ${i}-${h}-${a}`},xe=s=>{const[l,m]=s.split(" ");let[a,h]=l.split(":").map(Number);return m==="PM"&&a!==12&&(a+=12),m==="AM"&&a===12&&(a=0),a*60+h},Y=s=>xe(s)/1440*100,ne=s=>s!==void 0?s/11*100:void 0;return e.jsxs(e.Fragment,{children:[e.jsxs("main",{className:"min-h-[80vh] p-[25px] max-sm:p-[15px]",children:[e.jsxs("section",{className:"max-w-[1350px] mx-auto grid  items-center gap-4  ",children:[e.jsxs("div",{className:"border-b-[2px] border-b-white/50 pb-[10px] grid gap-4",children:[e.jsxs("div",{className:"flex text-white items-center max-sm:gap-3 gap-5 max-md:justify-center",children:[e.jsxs("p",{className:"text-white text-4xl max-md:2xl font-bold relative after:absolute after:w-[4px] after:h-full after:bg-white after:right-[-10px]",children:[t?.location.name," "]}),e.jsx("p",{className:"text-xl",children:t?.location.country})]}),e.jsxs("div",{className:"flex md:justify-between max-md:justify-center pb-[20px]",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx("p",{className:"text-white max-md:text-center text-lg",children:le(t?.current.last_updated)}),e.jsxs("div",{className:"flex items-center gap-3 max-lg:grid",children:[e.jsx("p",{className:"text-white text-8xl font-bold max-md:text-6xl max-md:text-center",children:d===0?t?.current.temp_f+"°":t?.current.temp_c+"°"}),e.jsx("img",{className:"size-35 max-md:mx-auto max-lg:justify-self-start max-md:hidden",alt:t?.current.condition.text,src:t?.current.condition.icon}),e.jsx("p",{className:"text-white text-center md:hidden text-lg",children:t?.current.condition.text})]}),e.jsxs("p",{className:"text-white/70 text-sm max-md:text-center",children:["Cảm giác như ",d===0?t?.current.feelslike_f+"°":t?.current.feelslike_c+"°"]})]}),e.jsx("div",{className:"self-end max-md:hidden",children:e.jsxs("div",{className:"grid justify-center gap-2",children:[e.jsx("p",{className:"text-white max-md:text-sm md:text-end",children:t?.current.condition.text}),e.jsxs("div",{className:"text-white grid gap-1 max-md:hidden",children:[e.jsxs("p",{className:"text-end",children:["Gió: ",t?.current.wind_kph," km/h"]}),e.jsxs("p",{className:"text-end",children:["Mây: ",t?.current.cloud," %"]}),e.jsxs("p",{className:"text-end",children:["Lượng mưa: ",t?.current.precip_mm," mm"]}),e.jsxs("p",{className:"text-end",children:["Độ ẩm: ",t?.current.humidity," %"]}),e.jsxs("p",{className:"text-end",children:["UV: ",t?.current.uv]}),e.jsxs("p",{className:"text-end",children:["Áp suất: ",t?.current.pressure_mb," mb"]})]})]})})]}),e.jsxs("button",{className:`${z===!0?"hidden":""} grid justify-center w-full text-white items-center css-icon`,onClick:()=>{R(!0)},children:["Chi tiết",e.jsx("span",{className:"mx-auto",children:x.iconDown})]}),e.jsxs("div",{className:`${z===!0?"":"hidden"} transition-all duration-300 ease grid max-sm:gap-3 gap-5`,children:[e.jsxs("div",{className:"grid lg:grid-cols-2 max-sm:gap-3 gap-5",children:[e.jsxs("button",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(0),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconThermometer}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Nhiệt Độ"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] ",children:[e.jsx("p",{className:"w-[calc(100%-50px)] text-start",children:"Nhiệt độ cảm nhận"}),e.jsx("p",{children:d===0?t?.current.feelslike_f+"°":t?.current.feelslike_c+"°"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-50px)] text-start",children:"Nhiệt độ gió lạnh"}),e.jsx("p",{children:d===0?t?.current.windchill_f+"°":t?.current.windchill_c+"°"})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-50px)] text-start",children:"Chỉ số nhiệt"}),e.jsx("p",{children:d===0?t?.current.heatindex_f+"°":t?.current.heatindex_c+"°"})]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(1),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconWind}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Gió"})]}),e.jsxs("div",{className:"flex gap-4 justify-between items-center",children:[e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] ",children:[e.jsx("p",{className:"w-[calc(100%-78px)] text-start",children:"Gió"}),e.jsx("p",{children:M==="km/h"?t?.current.wind_kph+" km/h":t?.current.wind_mph+" mph"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] ",children:[e.jsx("p",{className:"w-[calc(100%-78px)] text-start",children:"Gió giật"}),e.jsx("p",{children:M==="km/h"?t?.current.gust_kph+" km/h":t?.current.gust_mph+" mph"})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px] ",children:[e.jsx("p",{className:"w-[calc(100%-78px)] text-start",children:"Hướng gió"}),e.jsxs("p",{children:[t?.current.wind_degree,"° ",$(t?.current.wind_dir)??void 0]})]})]}),e.jsx(ge,{value:M==="km/h"?t?.current.wind_kph:t?.current.wind_mph,donvi:M==="km/h"?"km/h":"mph",direction:t?.current.wind_degree})]})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 max-lg:grid-cols-2  max-sm:gap-3 gap-5 ",children:[e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(2),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconSun}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Chỉ Số UV"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] text-start max-sm:text-2xl",children:t?.current.uv}),e.jsx("div",{className:"w-full my-[15px] h-[5px] rounded-xl [background:linear-gradient(to_right,#00ff00,#ffff00,#ff9900,#ff0000,#800080)] relative before:absolute before:w-[9px] before:h-[9px] before:rounded-full before:z-2 before:border-[2px] before:border-white before:top-[-2px] before:left-[var(--uv-pos)] ",style:{"--uv-pos":`${ne(t?.current.uv)?.toFixed(0)}%`}}),e.jsxs("p",{className:"text-lg text-start ",children:["Đang ở mức ",E(t?.current.uv)??void 0," "]})]}),e.jsx("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",children:t?.current.is_day===1?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconSunset}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Mặt trời lặn"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] max-sm:text-2xl",children:I(t?.forecast.forecastday[0].astro.sunset)}),e.jsxs("p",{className:"text-lg ",children:["Mặt trời mọc: ",I(t?.forecast.forecastday[0].astro.sunrise)," "]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconSunrise}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Mặt trăng mọc"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] max-sm:text-2xl",children:I(t?.forecast.forecastday[0].astro.moonrise)}),e.jsxs("p",{className:"text-lg ",children:["Mặt trăng lặn: ",I(t?.forecast.forecastday[1].astro.moonset)," "]})]})}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(3),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconCloudRain}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl  ",children:"Lượng Mưa"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] text-start max-sm:text-2xl",children:f==="mm"?t?.current.precip_mm+" mm":t?.current.precip_in+" in"}),e.jsxs("p",{className:"text-lg text-start ",children:[f==="mm"?P(t?.current.precip_mm)??void 0:P(t?.current.precip_in)??void 0," "]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(5),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconEye}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Tầm Nhìn"})]}),e.jsx("p",{className:"text-3xl my-[15px] font-[600] text-start max-sm:text-2xl",children:F==="km"?t?.current.vis_km+" km":t?.current.vis_miles+" dặm"}),e.jsxs("p",{className:"text-lg text-start ",children:["Tầm nhìn ",F==="km"?B(t?.current.vis_km)??void 0:B(t?.current.vis_miles)??void 0," "]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(6),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconTint}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Độ Ẩm"})]}),e.jsxs("p",{className:"text-3xl my-[15px] font-[600] text-start max-sm:text-2xl",children:[t?.current.humidity,"%"]}),e.jsxs("p",{className:"text-lg text-start ",children:["Điểm sương là ",d===0?t?.current.dewpoint_f+"°":t?.current.dewpoint_c+"°"," ngay lúc này"]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(4),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconTachometer}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Áp Suất"})]}),e.jsx("div",{className:"sm:pb-[15px] mt-[15px] max-sm:mb-[10px]",children:e.jsx(ue,{value:T==="mb"?t?.current.pressure_mb:t?.current.pressure_in,min:T==="mb"?960:28.5,max:T==="mb"?1050:31,donvi:T==="mb"?" mb":" in",backgroundColor:["rgb(255,255,255,0.2)","white","rgb(255,255,255,0.2)"]})})]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 max-sm:gap-3 gap-5",children:[e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconSolarPanel}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Bức Xạ Mặt Trời"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-120px)]",children:"Bức xạ sóng ngắn"}),e.jsxs("p",{children:[t?.current.short_rad," W/m²"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-120px)]",children:"Bức xạ khuếch tán"}),e.jsxs("p",{children:[t?.current.diff_rad," W/m²"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-120px)]",children:"Bức xạ trực tiếp"}),e.jsxs("p",{children:[t?.current.dni," W/m²"]})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-120px)]",children:"Bức xạ nghiêng"}),e.jsxs("p",{children:[t?.current.gti," W/m²"]})]})]}),e.jsxs("div",{className:"rounded-[10px] justify-center bg-white/5 backdrop-blur-[10px] text-white border-[1px] border-white/10 shadow-lg p-[25px] max-sm:p-[15px] w-full",onClick:()=>{n(0),u(7),c("/chi-tiet-theo-ngay")},children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[30px] h-[30px] bg-white/20 rounded-full  content-center max-md:text-sm max-sm:h-[25px] max-sm:w-[25px]",children:x.iconSmog}),e.jsx("p",{className:"text-white/70 max-md:text-lg md:text-xl ",children:"Chất Lượng Không Khí"})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Carbon Monoxide (CO)"}),e.jsxs("p",{children:[t?.current.air_quality?.co," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Nitrogen Dioxide (NO₂)"}),e.jsxs("p",{children:[t?.current.air_quality?.no2," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Ozone (O₃)"}),e.jsxs("p",{children:[t?.current.air_quality?.o3," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Sulfur Dioxide (SO₂)"}),e.jsxs("p",{children:[t?.current.air_quality?.so2," μg/m³"]})]}),e.jsxs("div",{className:"flex border-b-[1px] border-b-white/20 pt-[15px] pb-[5px] text-lg ",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start",children:"Bụi mịn PM2.5"}),e.jsxs("p",{children:[t?.current.air_quality?.pm2_5," μg/m³"]})]}),e.jsxs("div",{className:"flex pt-[15px] pb-[5px]",children:[e.jsx("p",{className:"w-[calc(100%-110px)] text-start text-lg ",children:"Bụi mịn PM10"}),e.jsxs("p",{children:[t?.current.air_quality?.pm10," μg/m³"]})]})]})]}),e.jsxs("button",{className:"grid justify-center w-full text-white items-center css-icon",onClick:()=>{R(!1)},children:[e.jsx("span",{className:"mx-auto",children:x.iconUp}),"Đóng lại"]})]})]}),e.jsx("div",{className:"flex overflow-x-auto bg-white/5 text-white border-[1px] border-white/5 backdrop-blur-[10px] mt-[10px] shadow-lg rounded-[10px]",children:e.jsx("div",{className:"flex m-[25px] gap-3 scroll-x overflow-x-auto py-[10px] max-sm:py-0 w-full",children:(()=>{const s=t?.forecast.forecastday[0].hour.filter(a=>new Date(a.time).getHours()>=H).map(a=>({...a,dayIndex:0}))??[],l=t?.forecast.forecastday[1].hour.map(a=>({...a,dayIndex:1}))??[];return[...s,...l].slice(0,24).map((a,h)=>{const i=new Date(a.time).getHours(),N=a.dayIndex===0&&i===H;return e.jsxs("button",{onClick:()=>{n(a.dayIndex),c("/chi-tiet-theo-ngay")},className:"grid justify-center px-[10px] gap-2",children:[e.jsx("p",{className:"text-white text-center w-max text-lg ",children:N?"Hiện tại":`${i}:00`}),e.jsxs("div",{children:[e.jsx("img",{className:"h-[50px] w-[55px]",alt:a.condition.text,src:a.condition.icon}),a.will_it_rain==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300 ",children:[a.chance_of_rain,"%"]}),a.will_it_snow==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300 ",children:[a.chance_of_snow,"%"]})]}),e.jsx("p",{className:"text-lg text-white  font-bold text-center self-end",children:d===0?a.temp_f+"°":a.temp_c+"°"})]},h)})})()})})]}),e.jsxs("section",{className:"max-w-[1350px] mt-[20px] mx-auto grid p-[25px] items-center gap-2 bg-white/5 border-[1px] border-solid border-white/10 backdrop-blur-[10px] shadow-lg rounded-[10px]",children:[e.jsxs("div",{className:"flex items-center flex justify-between",children:[e.jsxs("p",{className:" text-white/70 flex gap-2 items-center pb-[10px]  sm:text-lg md:text-xl",children:["Dự báo ",p," ngày tới"]}),e.jsxs("div",{className:"justify-self-end flex gap-2 items-center pb-[10px]",children:[e.jsx("p",{className:"text-white/70  sm:text-lg md:text-xl",children:"Chọn"}),e.jsx("button",{className:"text-white/70",onClick:re,children:x.iconCalendar}),e.jsx(me,{anchorEl:q,open:ae,onClose:O,PaperProps:b,MenuListProps:y,children:_.map((s,l)=>e.jsx(oe,{onClick:()=>se(s.id),sx:D,children:s.desc},l))})]})]}),e.jsx("div",{className:"flex gap-3 w-full max-[920px]:grid",children:t?.forecast.forecastday.map((s,l)=>e.jsx(e.Fragment,{children:k?e.jsx("button",{className:"flex justify-between items-center border-t-[1px] border-t-white/20",onClick:()=>{n(l),c("/chi-tiet-theo-ngay")},children:e.jsx("table",{className:"w-full",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"w-[85px]",children:e.jsxs("p",{className:"text-white text-start text-lg w-[80px] ",children:[" ",V(s.date)]})}),e.jsx("td",{className:"w-[50px]",children:e.jsxs("div",{className:"grid w-[40px]",children:[e.jsx("img",{className:"h-[40px] mx-auto",alt:s.day.condition.text,src:s.day.condition.icon}),s.day.daily_will_it_rain==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300 ",children:[s.day.daily_chance_of_rain,"%"]}),s.day.daily_will_it_snow==1&&e.jsxs("p",{className:"text-center text-sm text-cyan-300 ",children:[s.day.daily_chance_of_snow,"%"]})]})}),e.jsx("td",{className:"w-[50px]",children:e.jsx("p",{className:"text-white/70 text-lg  w-[50px] ",children:d===0?s.day.mintemp_f+"°":s.day.mintemp_c+"°"})}),e.jsx("td",{className:"p-[10px]",children:e.jsxs("div",{className:"min-w-[40px] flex h-[5px] rounded-full bg-white/30",children:[e.jsx("div",{style:{width:`${Y(s.astro.sunrise)}%`}}),e.jsx("div",{className:"bg-orange-400 w-full"}),e.jsx("div",{style:{width:`${100-Y(s.astro.sunset)}%`}})]})}),e.jsx("td",{className:"w-[50px]",children:e.jsx("p",{className:"text-white text-lg font-bold ",children:d===0?s.day.maxtemp_f+"°":s.day.maxtemp_c+"°"})})]})})})},l):e.jsxs("button",{className:"rounded-[10px] justify-center grid gap-2 bg-white/10 text-white border-[1px] border-white/10 shadow-lg p-[10px] w-full max-[920px]:hidden",onClick:()=>{n(l),c("/chi-tiet-theo-ngay")},children:[e.jsxs("p",{className:"text-white text-center",children:[" ",V(s.date)]}),e.jsx("img",{className:"h-[50px] w-[55px] mx-auto",alt:s.day.condition.text,src:s.day.condition.icon}),e.jsxs("div",{children:[s.day.daily_will_it_rain==1&&e.jsxs("p",{className:"text-center text-cyan-300",children:[s.day.daily_chance_of_rain,"%"]}),s.day.daily_will_it_snow==1&&e.jsxs("p",{className:"text-center text-cyan-300",children:[s.day.daily_chance_of_snow,"%"]})]}),e.jsxs("div",{className:"flex gap-1 self-end",children:[e.jsx("p",{className:"text-white max-md:text-sm font-bold",children:d===0?s.day.maxtemp_f+"°":s.day.maxtemp_c+"°"}),"/",e.jsx("p",{className:"text-white/70 max-md:text-sm",children:d===0?s.day.mintemp_f+"°":s.day.mintemp_c+"°"})]})]},l)}))})]})]}),e.jsx(pe,{position:"top-right",autoClose:3e3})]})};export{je as default};
